   
#抽离Activity中的startActivityForResult
##回调
``` java
public interface OnActivityForResultCallback {
    void result(Integer resultCode, Intent data);
    void success(Integer resultCode, Intent data);
    void cancel(Intent data);
}
```
##工具类OnActivityForResultUtils
``` java
public class OnActivityForResultUtils {
    public static Map<Integer, List<OnActivityForResultCallback>> resultMap = new HashMap<Integer, List<OnActivityForResultCallback>>();

    public static void startActivityForResult(Activity activity, Integer requestCode, Intent intent, OnActivityForResultCallback callback) {
        List<OnActivityForResultCallback> callbackList = resultMap.get(requestCode);
        if (callbackList == null) {
            callbackList = new ArrayList<OnActivityForResultCallback>();
            resultMap.put(requestCode, callbackList);
        }
        resultMap.get(requestCode).add(0, callback);
        activity.startActivityForResult(intent, requestCode);
    }

    public static void onActivityResult(int requestCode, int resultCode, Intent data) {
        List<OnActivityForResultCallback> callbackList = resultMap.get(requestCode);
        if (null != callbackList) {
            for (OnActivityForResultCallback callback : callbackList) {
                if (Activity.RESULT_CANCELED == resultCode) {
                    callback.cancel(data);
                } else {
                    callback.success(resultCode, data);
                }
                callback.result(resultCode, data);
            }
        }
    }
}


```
##简单回调实现
```
public abstract class SimpleOnActivityForResultCallback implements OnActivityForResultCallback {
    @Override
    public void result(Integer resultCode, Intent data) {

    }

    @Override
    public void cancel(Intent data) {

    }
}

```
